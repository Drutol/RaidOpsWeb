import glob, os
from difflib import SequenceMatcher

def similar(a, b):
    return SequenceMatcher(None, a, b).ratio()

game_names = []
file_names = []
name_pairs = []

os.chdir("/home/drutol/icons/take2")
for file in glob.glob("*"):
	file_names.append(file)

with open('IconDB.txt') as f:
    game_names = f.read().splitlines()

counter = 0

for fname in file_names:
	counter = counter + 1
	best_ratio = 0
	best_name = ""
	for gname in game_names:
		new_ratio = similar(fname,gname)*100
		if new_ratio > best_ratio:
			best_ratio = new_ratio
			best_name = gname

	print str(counter) + ". " + best_name+":"+fname
	name_pairs.append(best_name+"|"+fname)

out = open("name_pairs.txt", "w")
for item in name_pairs:
  out.write("%s\n" % item)


